{% extends "base.html" %} {% load static %}

<!-- prettier-ignore -->
{% block app_styles %}
<link rel="stylesheet" href="{% static 'donations/donations.css' %}" />
{% endblock %}

<!-- prettier-ignore -->
{% block content %}
<header class="min-vh-100" id="donations-header">
  {% include "includes/navbar.html" %}
  <div class="content-wrapper container mt-3">
    <h1 class="display-5 fw-bold text-center">Donate to Reforest the World</h1>
    <p class="text-center">
      Your support directly funds the planting of trees in areas that need it
      most. Whether you choose a preset amount or customize your donation, every
      dollar helps restore forests, support biodiversity, and fight climate
      change. Choose how much you'd like to give below.
    </p>
    <div class="donation-cards-container row g-3 mt-4">
      <!-- Card -->
      <div class="col-12 col-sm-6 col-md-4" data-amount="5">
        <div class="donation-card d-flex flex-column h-100 p-4 rounded-4">
          <div class="donation-card__image text-center">
            <img
              src="{% static 'donations/images/tree-illustration.png' %}"
              alt="Tree Illustration"
            />
          </div>
          <p class="donation-card__amount text-center fw-bold mt-3 fs-3 mb-0">
            £5
          </p>
          <p class="donation-card__description text-center mt-3">
            Help plant the first seeds of a new forest. Even small contributions
            grow into big change.
          </p>
          <div class="text-center mt-auto">
            <button
              class="donation-card__button btn btn-primary py-3 px-4 fw-bold rounded-5"
            >
              Donate
            </button>
          </div>
        </div>
      </div>
      <!-- Card -->
      <div class="col-12 col-sm-6 col-md-4" data-amount="10">
        <div class="donation-card d-flex flex-column h-100 p-4 rounded-4">
          <div class="donation-card__image text-center">
            <img
              src="{% static 'donations/images/tree-illustration.png' %}"
              alt="Tree Illustration"
            />
          </div>
          <p class="donation-card__amount text-center fw-bold mt-3 fs-3 mb-0">
            £10
          </p>
          <p class="donation-card__description text-center mt-3">
            Provide resources for young saplings to thrive. Your gift helps
            protect and nourish new life.
          </p>
          <div class="text-center mt-auto">
            <button
              class="donation-card__button btn btn-primary py-3 px-4 fw-bold rounded-5"
            >
              Donate
            </button>
          </div>
        </div>
      </div>
      <!-- Card -->
      <div class="col-12 col-sm-6 col-md-4" data-amount="25">
        <div class="donation-card d-flex flex-column h-100 p-4 rounded-4">
          <div class="donation-card__image text-center">
            <img
              src="{% static 'donations/images/tree-illustration.png' %}"
              alt="Tree Illustration"
            />
          </div>
          <p class="donation-card__amount text-center fw-bold mt-3 fs-3 mb-0">
            £25
          </p>
          <p class="donation-card__description text-center mt-3">
            Fund the planting of multiple trees. Your donation makes a direct
            impact on reforestation efforts.
          </p>
          <div class="text-center mt-auto">
            <button
              class="donation-card__button btn btn-primary py-3 px-4 fw-bold rounded-5"
            >
              Donate
            </button>
          </div>
        </div>
      </div>
      <!-- Card -->
      <div class="col-12 col-sm-6 col-md-4" data-amount="50">
        <div class="donation-card d-flex flex-column h-100 p-4 rounded-4">
          <div class="donation-card__image text-center">
            <img
              src="{% static 'donations/images/tree-illustration.png' %}"
              alt="Tree Illustration"
            />
          </div>
          <p class="donation-card__amount text-center fw-bold mt-3 fs-3 mb-0">
            £50
          </p>
          <p class="donation-card__description text-center mt-3">
            Support tree planting, soil restoration, and habitat creation for
            local wildlife.
          </p>
          <div class="text-center mt-auto">
            <button
              class="donation-card__button btn btn-primary py-3 px-4 fw-bold rounded-5"
            >
              Donate
            </button>
          </div>
        </div>
      </div>
      <!-- Card -->
      <div class="col-12 col-sm-6 col-md-4" data-amount="100">
        <div class="donation-card d-flex flex-column h-100 p-4 rounded-4">
          <div class="donation-card__image text-center">
            <img
              src="{% static 'donations/images/tree-illustration.png' %}"
              alt="Tree Illustration"
            />
          </div>
          <p class="donation-card__amount text-center fw-bold mt-3 fs-3 mb-0">
            £100
          </p>
          <p class="donation-card__description text-center mt-3">
            Expand forest canopies and fight climate change. This donation
            boosts large-scale tree planting projects.
          </p>
          <div class="text-center mt-auto">
            <button
              class="donation-card__button btn btn-primary py-3 px-4 fw-bold rounded-5"
            >
              Donate
            </button>
          </div>
        </div>
      </div>
      <!-- Card -->
      <div class="col-12 col-sm-6 col-md-4" data-amount="250">
        <div class="donation-card d-flex flex-column h-100 p-4 rounded-4">
          <div class="donation-card__image text-center">
            <img
              src="{% static 'donations/images/tree-illustration.png' %}"
              alt="Tree Illustration"
            />
          </div>
          <p class="donation-card__amount text-center fw-bold mt-3 fs-3 mb-0">
            £250
          </p>
          <p class="donation-card__description text-center mt-3">
            Become a key contributor to restoring ecosystems and greening
            degraded lands. Your generosity powers lasting change.
          </p>
          <div class="text-center mt-auto">
            <button
              class="donation-card__button btn btn-primary py-3 px-4 fw-bold rounded-5"
            >
              Donate
            </button>
          </div>
        </div>
      </div>
    </div>
    <form
      action="{% url 'create-checkout-session' %}"
      method="post"
      id="donation-amount-form"
      class="mt-5"
    >
      <label for="amount-range" class="form-label fw-bold fs-3"
        >Choose your amount</label
      >
      <input
        type="range"
        class="form-range"
        id="amount-range"
        name="amount"
        min="1"
        max="250"
        step="1"
      />
      <p class="mt-3 fw-bold fs-5">Your amount: <span class="amount"></span></p>
      <button
        class="donation-form__button btn btn-primary py-3 px-4 fw-bold rounded-5"
      >
        Donate
      </button>
    </form>
  </div>
</header>

<!-- Donation Login Required Toast -->
<div class="toast-container position-fixed bottom-0 end-0 p-3 text-white z-3">
  <div
    id="donation-toast"
    class="toast"
    role="alert"
    aria-live="assertive"
    aria-atomic="true"
  >
    <!-- prettier-ignore -->
    <div class="toast-content d-flex justify-content-between align-items-center p-3">
        <div class="login-required-message fs-5 fw-bold"></div>
        <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
      </div>
  </div>
</div>
{% endblock %}

<!-- prettier-ignore -->
{% block scripts %}
<script src="{% static 'donations/js/donations.js' %}" type="module"></script>

<script src="https://js.stripe.com/v3/"></script>
<script src="{% static 'donations/js/checkoutSession.js' %}"></script>
{% endblock %}
